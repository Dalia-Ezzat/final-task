"use strict";(self.webpackChunkfreshcart=self.webpackChunkfreshcart||[]).push([[932],{6666:(C,g,s)=>{s.r(g),s.d(g,{LoginComponent:()=>A});var _=s(6814),i=s(95),p=s(1120),n=s(4769),u=s(5881);function d(e,r){1&e&&(n.TgZ(0,"p",15),n._uU(1," email is Required "),n.qZA())}function c(e,r){1&e&&(n.TgZ(0,"p",15),n._uU(1," email InValid Format "),n.qZA())}function f(e,r){if(1&e&&(n.TgZ(0,"div",13),n.YNc(1,d,2,0,"p",14),n.YNc(2,c,2,0,"p",14),n.qZA()),2&e){const l=n.oxw();let t,o;n.xp6(1),n.Q6J("ngIf",null==(t=l.loginForm.get("email"))?null:t.getError("required")),n.xp6(1),n.Q6J("ngIf",null==(o=l.loginForm.get("email"))?null:o.getError("email"))}}function h(e,r){1&e&&(n.TgZ(0,"p",15),n._uU(1," password is Required "),n.qZA())}function Z(e,r){1&e&&(n.TgZ(0,"p",15),n._uU(1," must be at least 6 chars "),n.qZA())}function v(e,r){if(1&e&&(n.TgZ(0,"div",13),n.YNc(1,h,2,0,"p",14),n.YNc(2,Z,2,0,"p",14),n.qZA()),2&e){const l=n.oxw();let t,o;n.xp6(1),n.Q6J("ngIf",null==(t=l.loginForm.get("password"))?null:t.getError("required")),n.xp6(1),n.Q6J("ngIf",null==(o=l.loginForm.get("password"))?null:o.getError("pattern"))}}function T(e,r){1&e&&(n.TgZ(0,"span"),n._UZ(1,"i",16),n.qZA())}function L(e,r){if(1&e&&(n.TgZ(0,"p",13),n._uU(1),n.qZA()),2&e){const l=n.oxw();n.xp6(1),n.hij(" ",l.errMsg," ")}}let A=(()=>{var e;class r{constructor(t,o,a){this._AuthService=t,this._Router=o,this._FormBuilder=a,this.errMsg="",this.isLoading=!1,this.loginForm=this._FormBuilder.group({email:["",[i.kI.required,i.kI.email]],password:["",[i.kI.required,i.kI.pattern(/^[a-zA-Z0-9_@]{6,}$/)]]})}handleForm(){const t=this.loginForm.value;this.isLoading=!0,!0===this.loginForm.valid&&this._AuthService.login(t).subscribe({next:o=>{"success"==o.message&&(localStorage.setItem("etoken",o.token),this._AuthService.decodeUser(),this.isLoading=!1,this._Router.navigate(["/home"]))},error:o=>{this.errMsg=o.error.message,this.isLoading=!1}})}}return(e=r).\u0275fac=function(t){return new(t||e)(n.Y36(u.e),n.Y36(p.F0),n.Y36(i.qu))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-login"]],standalone:!0,features:[n.jDz],decls:21,vars:6,consts:[[1,"w-100","mx-auto","p-4","my-3","bg-main-light"],[1,"my-3"],[3,"formGroup","ngSubmit"],[1,"form-item"],["for","email"],["formControlName","email","type","email","id","email",1,"form-control"],["class","alert alert-danger ",4,"ngIf"],["for","password"],["formControlName","password","type","password","id","password",1,"form-control"],[1,"d-flex","justify-content-between","align-items-center"],[1,"main-btn","mt-2",3,"disabled"],[4,"ngIf"],["routerLink","/forgot",1,"link-primary"],[1,"alert","alert-danger"],["class","mb-0",4,"ngIf"],[1,"mb-0"],[1,"fas","fa-spin","fa-spinner"]],template:function(t,o){if(1&t&&(n.TgZ(0,"section",0)(1,"h1",1),n._uU(2,"Login Now"),n.qZA(),n.TgZ(3,"form",2),n.NdJ("ngSubmit",function(){return o.handleForm()}),n.TgZ(4,"div",3)(5,"label",4),n._uU(6,"email"),n.qZA(),n._UZ(7,"input",5),n.YNc(8,f,3,2,"div",6),n.qZA(),n.TgZ(9,"div",3)(10,"label",7),n._uU(11,"password"),n.qZA(),n._UZ(12,"input",8),n.YNc(13,v,3,2,"div",6),n.qZA(),n.TgZ(14,"div",9)(15,"button",10),n._uU(16," Login "),n.YNc(17,T,2,0,"span",11),n.qZA(),n.TgZ(18,"a",12),n._uU(19,"Forgot Password"),n.qZA()()(),n.YNc(20,L,2,1,"p",6),n.qZA()),2&t){let a,m;n.xp6(3),n.Q6J("formGroup",o.loginForm),n.xp6(5),n.Q6J("ngIf",(null==(a=o.loginForm.get("email"))?null:a.errors)&&(null==(a=o.loginForm.get("email"))?null:a.touched)),n.xp6(5),n.Q6J("ngIf",(null==(m=o.loginForm.get("password"))?null:m.errors)&&(null==(m=o.loginForm.get("password"))?null:m.touched)),n.xp6(2),n.Q6J("disabled",o.loginForm.invalid),n.xp6(2),n.Q6J("ngIf",o.isLoading),n.xp6(3),n.Q6J("ngIf",o.errMsg)}},dependencies:[_.ez,_.O5,i.UX,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,p.rH]}),r})()}}]);